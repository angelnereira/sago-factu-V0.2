# ========================================
# SAGO-FACTU - Variables de Entorno
# ========================================

## Core
DATABASE_URL="postgresql://user:password@host:5432/sago_factu?schema=public" # Required
DIRECT_URL="postgresql://user:password@host:5432/sago_factu?schema=public"   # Optional (Prisma Accelerate)
NEXTAUTH_URL="http://localhost:3000"        # Required
NEXTAUTH_SECRET="generate-with-openssl-rand-base64-32" # Required
NODE_ENV="development"

## Multi-Tenant / Branding
NEXT_PUBLIC_APP_NAME="SAGO-FACTU"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

## Super Admin (seed)
SUPER_ADMIN_EMAIL="admin@sago-factu.com"
SUPER_ADMIN_PASSWORD="admin123" # Cambia en producci贸n

## Redis / BullMQ
REDIS_URL="redis://localhost:6379" # Required
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD=""

## AWS S3 (almacenamiento XML/PDF)
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_S3_BUCKET="sago-factu-storage"
AWS_S3_PREFIX="certificados/" # Opcional

## Email (Resend recomendado)
EMAIL_FROM="noreply@sago-factu.com"
RESEND_API_KEY=""      # Requerido si se habilitan notificaciones
SENDGRID_API_KEY=""    # Alternativa opcional

## Certificados Digitales
CERTIFICATE_MASTER_KEY="hexadecimal-64chars"  # 32 bytes en hex (Required)
CERTIFICATE_ENCRYPTION_KEY="hexadecimal-64chars" # Clave AES-256 para cifrar el PIN del certificado
HKA_DEMO_USE_FAKE_SIGNATURE="true"

## 锔 ENCRIPTACIN DE TOKENS HKA - IMPORTANTE
# Debe ser una clave de 32 caracteres m铆nimo para AES-256
# Generar con: openssl rand -hex 32
ENCRYPTION_KEY="" # REQUIRED - Sin valor por defecto

## ========================================
##  THE FACTORY HKA - CREDENCIALES CRTICAS
## ========================================
## 锔 SEGURIDAD CRTICA:
## - Estas credenciales NUNCA deben hardcodearse en c贸digo
## - Solicitar a: soporte@thefactoryhka.com.pa
## - Referencias: https://felwiki.thefactoryhka.com.pa/
## ========================================

## HKA Ambiente General
HKA_ENV="demo" # demo | production

## HKA Demo - REQUERIDO
## Solicitar valores a The Factory HKA - NO usar valores p煤blicos
HKA_DEMO_SOAP_URL="https://demoemision.thefactoryhka.com.pa/ws/obj/v1.0/Service.svc"
HKA_DEMO_REST_URL="https://demointegracion.thefactoryhka.com.pa"
HKA_DEMO_TOKEN_USER="" # REQUIRED - Solicitar a The Factory HKA
HKA_DEMO_TOKEN_PASSWORD="" # REQUIRED - Solicitar a The Factory HKA

## HKA Producci贸n - REQUERIDO si HKA_ENV=production
HKA_PROD_SOAP_URL="https://emision.thefactoryhka.com.pa/ws/obj/v1.0/Service.svc"
HKA_PROD_REST_URL="https://integracion.thefactoryhka.com.pa"
HKA_PROD_TOKEN_USER="" # REQUIRED en producci贸n - Solicitar a The Factory HKA
HKA_PROD_TOKEN_PASSWORD="" # REQUIRED en producci贸n - Solicitar a The Factory HKA

## HKA Configuraci贸n Adicional
HKA_SOAP_TIMEOUT="30000" # milliseconds
HKA_SOAP_MAX_RETRIES="3"
HKA_SOAP_RETRY_DELAY="1000" # milliseconds
HKA_STRICT_RUC_VALIDATION="true"
HKA_REQUIRE_CLIENT_ADDRESS="true"
HKA_MAX_ITEMS="1000"

## Integraciones Opcionales
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""
AWS_KMS_KEY_ID=""

## Monitoring & Observabilidad
SENTRY_DSN=""
SENTRY_ORG=""
SENTRY_PROJECT=""
VERCEL_ANALYTICS_ID=""

## Feature Flags
ENABLE_EMAIL_NOTIFICATIONS="true"
ENABLE_WEBHOOKS="false"
ENABLE_API_KEYS="true"
ENABLE_BACKGROUND_WORKERS="true"

## Workers
BULLMQ_PREFIX="sago-factu"
QUEUE_DEFAULT_CONCURRENCY="5"

## Extra (opcional para scripts)
NEON_API_KEY=""
NEON_PROJECT_ID=""
